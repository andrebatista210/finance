{% extends 'base.html' %}
{% block content %}
<h2>Todos os Gastos</h2>

<table class="table table-striped">
  <thead>
    <tr>
      <th>Data</th>
      <th>Tipo</th>
      <th>Valor</th>
      <th>Categoria</th>
      <th>Cartão</th>
      <th>Parcela</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    {% for g in gastos %}
    <tr>
      <td>{{ g.data.strftime('%d/%m/%Y') }}</td>
      <td>{{ g.tipo.nome }}</td>
      <td>R$ {{ '%.2f'|format(g.valor) }}</td>
      <td>{{ g.categoria }}</td>
      <td>
        {% if g.cartao %}
          {{ g.cartao.nome }} ({{ g.cartao.bandeira }})
        {% endif %}
      </td>
      <td>{{ g.parcela }}/{{ g.total_parcelas }}</td>
      <td>{{ g.descricao or '' }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
